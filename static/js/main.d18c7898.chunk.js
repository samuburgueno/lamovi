(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(33)},19:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),s=(a(19),a(8)),i=a.n(s),l=a(10),u=a(3),m=a(4),h=a(7),j=a(5),p=a(6),d=a(1),f=a(9),v=a.n(f);function b(e){return r.a.createElement("div",{onClick:e.getSaldo,className:"Tarjeta",id:e.numero},r.a.createElement("p",{className:"marcaTarjeta"},"M"),e.saldo&&r.a.createElement("p",{className:"saldoTarjeta"},e.saldo.replace(" ","")),r.a.createElement("p",{className:"numeroTarjeta"},e.numero.split("").map(function(e,t){return r.a.createElement("span",{key:t,className:"item-".concat(t)},e)})))}var k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(j.a)(t).call(this,e))).state={numeroTarjeta:"XXXXXXXXXXXXXXXXX"},a.onChange=a.onChange.bind(Object(d.a)(a)),a.clickAceptar=a.clickAceptar.bind(Object(d.a)(a)),a.clickCancelar=a.clickCancelar.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.numeroTarjeta.focus(),console.log(v.a.get("tarjetas"))}},{key:"onChange",value:function(e){if(e.target.value.length<18){var t=e.target.value.padEnd(17,"X");this.setState({numeroTarjeta:t})}}},{key:"clickAceptar",value:function(){var e=this,t={numero:this.state.numeroTarjeta,documento:!1},a=v.a.get("tarjetas");void 0===a&&(a=[]);var n=!1;a.forEach(function(t,a){t.numero===e.state.numeroTarjeta&&(n=!n)}),n?alert("La tarjeta ya est\xe1 guardada"):(a.push(t),v.a.set("tarjetas",a))}},{key:"clickCancelar",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"TarjetaWrapper"},r.a.createElement(b,{numero:this.state.numeroTarjeta}),r.a.createElement("div",{className:"botones"},r.a.createElement("input",{className:"btn btn-cancelar",onClick:this.clickCancelar,type:"button",value:"Cancelar"}),r.a.createElement("input",{className:"btn btn-aceptar",onClick:this.clickAceptar,type:"button",value:"Aceptar"})),r.a.createElement("input",{ref:function(t){e.numeroTarjeta=t},onChange:this.onChange,type:"text"}))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(j.a)(t).call(this,e))).state={tarjetas:[]},a.getSaldo=a.getSaldo.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=v.a.get("tarjetas");this.setState({tarjetas:e})}},{key:"getSaldo",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.id,e.next=3,fetch("http://lamoviapi.estudioliberata.com?tarjeta=".concat(a));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,c=this.state.tarjetas,this.state.tarjetas.forEach(function(e,t){a===e.numero&&(e.saldo=r.saldo,e.fecha=r.fecha,c[t]=e)}),this.setState({tarjetas:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Tarjetas"},r.a.createElement("h2",null,"Tarjetas"),!this.state.tarjetas&&r.a.createElement(k,null),this.state.tarjetas&&this.state.tarjetas.map(function(t,a){return r.a.createElement(b,Object.assign({key:a,getSaldo:e.getSaldo},t))}))}}]),t}(n.Component),E=(a(31),a(32),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(j.a)(t).call(this,e))).state={saldo:!1,ultimoViaje:!1,tarjeta:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(g,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.d18c7898.chunk.js.map